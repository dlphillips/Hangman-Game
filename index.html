
<!DOCTYPE html>
<html>
<head>
	<title>Low Hang_ng Fru_t!!</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
	
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	
	<script src="assets/javascript/game.js"></script>	

	<link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Gochi+Hand" rel="stylesheet">

	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
	<div class="container">
		<div class="row text-center">
			<div class="col-md-12">
				<h1>Low Hang_ng Fru_t!!</h1>
				<h2>a hangman game</h2>
<!-- 				<p>Press any key to get started!</p> -->
			</div>
		</div>

		<div class="row text-center">
			<div class="col-md-6"><img id="fruitPic" src="">
				<h2 id="winmsg"></h2>
			</div>

			<div class="col-md-6 text-center">
				<h3 id="iWins">Wins: 0</h3>	
				<h3 id="iLosses">Losses: 0</h3>	
				<h3>Guesses Remaining: </h3>
				<h3 id="guesses"></h3>
				<h3>Letters Already Guessed: </h3>				
				<h3 id="allLtrs"></h3>
				<h3>Secret Word: </h3>
				<h2 id="fruit"></h2>
				<button id = "srtBtn" onclick="gameReset()">Begin/New Word</button>
				
				<script>

					var fruit, text, selFruit, fLen, i, numLetters, numGuesses, selLtrs, skey, lLen, lText, wins, losses, answer, remSpaces, imgSrc;
					numGuesses = 6;
					wins = 0;
					losses = 0;
					text = "";
					answer =[];
					selLtrs = [];
					goodLtrs = [];
					wordLetters = [];
					imgSrc = ""
					fruits = ["banana", "orange", "apple", "mango", "peach", "apricot", "kiwi", "pear", "pineapple", "strawberry"];
					fLen = fruits.length;
					for (i = 0; i < fLen; i++) {
					    text += fruits[i] + ", ";
					};

					function gameReset() {
						// select random number, 0-9
					    var x = Math.floor((Math.random() * 10));
					    // select matching fruit from array based on number
    					selFruit = fruits[x];
    					// count number of letters in fruit name
    					numLetters = selFruit.length;
    					remSpaces = numLetters;
    					// assign defaults to variables
    					numGuesses = 6;
    					selLtrs = [];
    					goodLtrs = [];
    					lText = "";
    					answer = [];
    					wordLetters = selFruit.split("");
    					imgSrc = "assets/images/"+selFruit+".jpg";

						console.log(selFruit);
						console.log(wordLetters);
						console.log(fruits);

						for (i = 0; i < numLetters; i++) {
						   answer.push("_");
						};

						text = ""
						for (i = 0; i < answer.length; i++) {
						    text += answer[i] + " ";
						};

						document.getElementById("guesses").innerHTML = numGuesses;
						document.getElementById("allLtrs").innerHTML = lText;
						document.getElementById("fruit").innerHTML = text;
					}

					//********************************************//
					document.onkeyup = function(event) {
         				var userkey = event.key;

         			var userkey = userkey.toLowerCase();

         			var skey = selFruit.indexOf(userkey, 0);
						if (skey > -1) {
							goodLtrs.push(userkey);

							for (i = 0; i < numLetters; i++) {
							   if (userkey === wordLetters[i]) {
							   answer.splice(i,1,userkey);
							};
							};	

							text = ""
							for (i = 0; i < answer.length; i++) {
							    text += answer[i] + " ";
							};
							document.getElementById("fruit").innerHTML = text;

							if (answer.indexOf("_") === -1) {
								var snd = new Audio("https://upload.wikimedia.org/wikipedia/en/9/9e/Yello_-_Oh_Yeah_excerpt.ogg");
								snd.play();
								wins++;
								document.getElementById("iWins").innerHTML = "Wins: " + wins;
								document.getElementById("fruitPic").src = imgSrc;
								document.getElementById("winmsg").innerHTML = "You won!!! Let's play again!";

								// alert("You won!!! Let's play again!");
								gameReset();
							}


						} else {
						// letter not found in word	
						// check to see if letter is already been typed, only subtract from guesses if it has not been typed
							var skey = selLtrs.indexOf(userkey, 0);
								if (skey < 0) {
									selLtrs.push(userkey);
									numGuesses-- ;
									lText += userkey + " ";
									};	
									document.getElementById("allLtrs").innerHTML = lText;

								document.getElementById("guesses").innerHTML = numGuesses;

								if (numGuesses === 0) {
									losses++;
									document.getElementById("iLosses").innerHTML = "Losses: " + losses;
									alert("Sorry, you lost. The answer was "+selFruit+". Try again!");
									gameReset();
								};
						};

					}
					//********************************************//

				</script>
			</div>
		</div>
	</div>
</body>
</html>